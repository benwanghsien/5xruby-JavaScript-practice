{"mappings":"AAkBA,SAASA,IACP,MAAMC,EAAgB,GAAGC,MAAMC,KAC7BC,SAASC,iBAAiB,2BAEtBC,EAAeF,SAASG,cAAc,uBAE5C,IAAIC,EAAQP,EAAcQ,QAAO,CAACC,EAAMC,IAC/BD,EAAOE,OAAOD,EAAKE,UAAUX,MAAM,KACzC,GAEHI,EAAaO,UAAY,IAAIL,EAAMM,QAAQ,KAG7C,SAASC,EAAsBC,EAAOC,GACpC,GAA6B,WAAzBD,EAAME,OAAOC,SAAiD,MAAzBH,EAAME,OAAOC,QAAiB,CAGrEF,EAFaG,KAAKC,SAAS,GAAGR,WAElB,GAAK,EAEjBO,KAAKE,SACLtB,KAiBJ,SAASuB,EAAWC,EAAMP,GACxB,MAAMQ,EAAQrB,SAASG,cAAc,SAG/BmB,EAFa,GAAGxB,MAAMC,KAAKsB,EAAMJ,UAEZM,MAAMC,GAAOA,EAAGP,SAAS,GAAGR,YAAcW,IAEjEE,GACFA,EAAQL,SAAS,GAAGA,SAAS,GAAGQ,MAAQZ,EAAMO,GAAM,GACpDE,EAAQL,SAAS,GAAGR,UAAY,IAAII,EAAMO,GAAM,GAAKP,EAAMO,GAAM,KAEjEC,EAAMK,mBAAmB,YAjE7B,SAA0BN,EAAMP,GAe9B,MAdiB,+BAEHO,qDAC4BP,EAAMO,GAAM,uCACvCP,EAAMO,GAAM,2BACZP,EAAMO,GAAM,GAAKP,EAAMO,GAAM,gMA2DJO,CAAiBP,EAAMP,IAG7Db,SACGG,cAAc,uBACdyB,iBAAiB,SAAS,SAAUC,GACnClB,EAAsBZ,KAAKiB,KAAMa,EAAGhB,OAI1CjB,ICnEF,MAAMkC,EAAe9B,SAASC,iBAAiB,YAEzC8B,EAAY,GAElBD,EAAaE,SAASC,IACpBA,EAAIL,iBAAiB,SAAUC,IAC7B,GAAyB,WAArBA,EAAEf,OAAOC,SAA6C,MAArBc,EAAEf,OAAOC,QAAiB,CAC7D,MAAMK,EAAOS,EAAEK,cAAcjB,SAAS,GAAGA,SAAS,GAAGR,UAC/C0B,EAAQ3B,OACZqB,EAAEK,cAAcjB,SAAS,GAAGA,SAAS,GAAGR,UAAUX,MAAM,KD6D5Ce,EC1DHkB,ID0DUK,EC1DC,CAAChB,EAAMe,ID2DX,IAGpBtB,EAAMuB,EAAW,IAAI,KAFrBvB,EAAMuB,EAAW,IAAM,CAAC,EAAGA,EAAW,IC1DpCjB,EAAWC,EAAMW,GDwDvB,IAAoBlB,EAAOuB,QClD3BpC,SACGG,cAAc,6BACdyB,iBAAiB,SAAS,MDY7B,SAAyBf,GACvB,IAAK,IAAIwB,KAAQC,OAAOD,KAAKxB,GAC3BA,EAAMwB,GAAM,GAAK,EAGnBrC,SAASG,cAAc,uBAAuBM,UAAY,KAE1D,MAAMY,EAAQrB,SAASG,cAAc,SACrC,KAAOkB,EAAMJ,SAASsB,OAAS,GAC7BlB,EAAMmB,YAAYnB,EAAMJ,SAAS,ICpBjCwB,CAAgBV,MAGN/B,SAASG,cAAc,SAG/ByB,iBAAiB,UAAWC,IAChC,MAAMa,EAASb,EAAEf,OAAOW,MAClBL,EAAOS,EAAEc,KAAK,GAAG1B,SAAS,GAAGR,UAEnCsB,EAAUX,GAAM,GAAKsB,EACrBvB,EAAWC,EAAMW","sources":["src/scripts/shoppingCartFunction.js","src/scripts/main.js"],"sourcesContent":["function addOneItemToCart(name, state) {\n  const newTable = `\n      <tr>\n          <td>${name}</td>\n          <td><input type=\"number\" value=\"${state[name][0]}\" min=\"1\" /></td>\n          <td>$${state[name][1]}</td>\n          <td>$${state[name][1] * state[name][0]}</td>\n          <td>\n              <button class=\"btn btn-danger btn-sm\">\n              <i class=\"fas fa-trash-alt\"></i>\n              </button>\n          </td>\n      </tr>   \n    `;\n\n  return newTable;\n}\n\nfunction updateTotalPrice() {\n  const subTotalTdArr = [].slice.call(\n    document.querySelectorAll(\"tbody tr :nth-child(4)\")\n  );\n  const totalPriceTd = document.querySelector(\"tfoot :nth-child(3)\");\n\n  let total = subTotalTdArr.reduce((prev, next) => {\n    return prev + Number(next.innerText.slice(1));\n  }, 0);\n\n  totalPriceTd.innerText = `$${total.toFixed(2)}`;\n}\n\nfunction deleteOneItemFromCart(event, state) {\n  if (event.target.tagName === \"BUTTON\" || event.target.tagName === \"I\") {\n    const name = this.children[0].innerText;\n\n    state[name][0] = 0;\n\n    this.remove();\n    updateTotalPrice();\n  }\n}\n\nfunction deleteWholeCart(state) {\n  for (let keys of Object.keys(state)) {\n    state[keys][0] = 0;\n  }\n\n  document.querySelector(\"tfoot :nth-child(3)\").innerText = \"$0\";\n\n  const tbody = document.querySelector(\"tbody\");\n  while (tbody.children.length > 0) {\n    tbody.removeChild(tbody.children[0]);\n  }\n}\n\nfunction updateCart(name, state) {\n  const tbody = document.querySelector(\"tbody\");\n  const tbodyArray = [].slice.call(tbody.children);\n\n  const catCart = tbodyArray.find((tr) => tr.children[0].innerText === name);\n\n  if (catCart) {\n    catCart.children[1].children[0].value = state[name][0];\n    catCart.children[3].innerText = `$${state[name][1] * state[name][0]}`;\n  } else {\n    tbody.insertAdjacentHTML(\"beforeend\", addOneItemToCart(name, state));\n\n    // add delete handler to delete button of each tr\n    document\n      .querySelector(\"tbody > :last-child\")\n      .addEventListener(\"click\", function (e) {\n        deleteOneItemFromCart.call(this, e, state);\n      });\n  }\n\n  updateTotalPrice();\n}\n\nfunction checkState(state, productArr) {\n  if (!state[productArr[0]]) {\n    state[productArr[0]] = [1, productArr[1]];\n  } else {\n    state[productArr[0]][0]++;\n  }\n}\n\nexport { updateCart, deleteWholeCart, checkState };\n","import \"bootstrap/dist/css/bootstrap.css\";\nimport \"@fortawesome/fontawesome-free/css/all.css\";\nimport {\n  checkState,\n  updateCart,\n  deleteWholeCart,\n} from \"./shoppingCartFunction.js\";\n\nconst catListGroup = document.querySelectorAll(\"div.card\");\n\nconst cartState = {};\n\ncatListGroup.forEach((ele) => {\n  ele.addEventListener(\"click\", (e) => {\n    if (e.target.tagName === \"BUTTON\" || e.target.tagName === \"I\") {\n      const name = e.currentTarget.children[1].children[0].innerText;\n      const price = Number(\n        e.currentTarget.children[1].children[1].innerText.slice(1)\n      );\n\n      checkState(cartState, [name, price]);\n\n      updateCart(name, cartState);\n    }\n  });\n});\n\n// add delete whole cart function to button which is in charge of removing\ndocument\n  .querySelector(\"section.cart > button.btn\")\n  .addEventListener(\"click\", () => {\n    deleteWholeCart(cartState);\n  });\n\nconst tbody = document.querySelector(\"tbody\");\n\n// change amount thorugh input\ntbody.addEventListener(\"change\", (e) => {\n  const amount = e.target.value;\n  const name = e.path[2].children[0].innerText;\n\n  cartState[name][0] = amount;\n  updateCart(name, cartState);\n});\n"],"names":["$196ce7e9ad745c07$var$updateTotalPrice","subTotalTdArr","slice","call","document","querySelectorAll","totalPriceTd","querySelector","total","reduce","prev","next","Number","innerText","toFixed","$196ce7e9ad745c07$var$deleteOneItemFromCart","event","state","target","tagName","this","children","remove","$196ce7e9ad745c07$export$edba26a5417c3f39","name","tbody","catCart","find","tr","value","insertAdjacentHTML","$196ce7e9ad745c07$var$addOneItemToCart","addEventListener","e","$f5e5effd96d66274$var$catListGroup","$f5e5effd96d66274$var$cartState","forEach","ele","currentTarget","price","productArr","keys","Object","length","removeChild","$196ce7e9ad745c07$export$816749e3f296bb01","amount","path"],"version":3,"file":"index.8ce81279.js.map"}